spring.application.name=demo

# WebFlux Configuration
spring.webflux.static-path-pattern=/**
spring.main.web-application-type=reactive

# RabbitMQ Configuration
spring.rabbitmq.host=192.168.50.93
spring.rabbitmq.port=5672
spring.rabbitmq.username=rabbitmq
spring.rabbitmq.password=password
spring.rabbitmq.connection-timeout=5000

# Spring Cloud Stream Configuration
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.destination=aircraftpositions
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.group=aircraftpositions
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.binder=rabbit
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.consumer.max-attempts=1

# Backpressure settings
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.prefetch=100
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.max-concurrency=5

# Rabbit-specific settings
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.auto-bind-dlq=false
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.republish-to-dlq=false
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.auto-delete=true
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.durable=false

# Function definition
spring.cloud.function.definition=retrieveAircraftPositions

# R2DBC Configuration
spring.r2dbc.url=r2dbc:h2:file://././planefinder
spring.r2dbc.username=sa
spring.r2dbc.password=

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Auto-create schema
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql

# Logging
logging.level.org.springframework.cloud.stream=DEBUG
logging.level.org.springframework.amqp=DEBUG
logging.level.com.example.demo=DEBUG
logging.level.reactor.core=INFO