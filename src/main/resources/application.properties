spring.application.name=demo

# RabbitMQ Configuration
spring.rabbitmq.host=192.168.50.93
spring.rabbitmq.port=5672
spring.rabbitmq.username=rabbitmq
spring.rabbitmq.password=password

# Spring Cloud Stream Configuration
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.destination=aircraftpositions
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.group=aircraftpositions
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.binder=rabbit
spring.cloud.stream.bindings.retrieveAircraftPositions-in-0.consumer.max-attempts=1

# Rabbit-specific settings to avoid queue conflicts
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.auto-bind-dlq=false
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.republish-to-dlq=false
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.auto-delete=true
spring.cloud.stream.rabbit.bindings.retrieveAircraftPositions-in-0.consumer.durable=false

# Function definition
spring.cloud.function.definition=retrieveAircraftPositions

# Enable debug logging
logging.level.org.springframework.cloud.stream=DEBUG
logging.level.org.springframework.amqp=DEBUG
logging.level.com.example.demo=DEBUG

# R2DBC Configuration
spring.r2dbc.url=r2dbc:h2:file://././planefinder
spring.r2dbc.username=sa
spring.r2dbc.password=

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Auto-create schema
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql